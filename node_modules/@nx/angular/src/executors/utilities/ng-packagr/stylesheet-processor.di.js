"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.STYLESHEET_PROCESSOR = void 0;
const stylesheet_processor_di_1 = require("ng-packagr/lib/styles/stylesheet-processor.di");
const angular_version_utils_1 = require("../angular-version-utils");
exports.STYLESHEET_PROCESSOR = {
    provide: stylesheet_processor_di_1.STYLESHEET_PROCESSOR_TOKEN,
    useFactory: () => {
        const { major: ngPackagrMajorVersion, version: ngPackagrVersion } = (0, angular_version_utils_1.getInstalledPackageVersionInfo)('ng-packagr');
        if (ngPackagrMajorVersion >= 19) {
            const { StylesheetProcessor } = require('./v19+/stylesheet-processor');
            return StylesheetProcessor;
        }
        if (ngPackagrVersion !== '17.2.0') {
            const { StylesheetProcessor } = require('./pre-v19/stylesheet-processor');
            return StylesheetProcessor;
        }
        const { AsyncStylesheetProcessor, } = require('./pre-v19/stylesheet-processor');
        return AsyncStylesheetProcessor;
    },
    deps: [],
};
