"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.addVitest = addVitest;
const devkit_1 = require("@nx/devkit");
const versions_1 = require("../../utils/versions");
async function addVitest(tree, options) {
    const { vitestGenerator } = (0, devkit_1.ensurePackage)('@nx/vite', versions_1.nxVersion);
    await vitestGenerator(tree, {
        project: options.name,
        uiFramework: 'angular',
        testEnvironment: 'jsdom',
        coverageProvider: 'v8',
        addPlugin: options.addPlugin ?? false,
    });
}
