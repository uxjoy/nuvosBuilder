{"version":3,"file":"spartan-ng-brain-tooltip.mjs","sources":["../../../../libs/brain/tooltip/src/lib/brn-tooltip-content.component.ts","../../../../libs/brain/tooltip/src/lib/brn-tooltip.directive.ts","../../../../libs/brain/tooltip/src/lib/brn-tooltip-content.directive.ts","../../../../libs/brain/tooltip/src/lib/brn-tooltip.token.ts","../../../../libs/brain/tooltip/src/lib/computed-previous.ts","../../../../libs/brain/tooltip/src/lib/brn-tooltip-trigger.directive.ts","../../../../libs/brain/tooltip/src/index.ts","../../../../libs/brain/tooltip/src/spartan-ng-brain-tooltip.ts"],"sourcesContent":["/**\n * We are building on shoulders of giants here and adapt the implementation provided by the incredible Angular\n * team: https://github.com/angular/components/blob/main/src/material/tooltip/tooltip.ts\n * Check them out! Give them a try! Leave a star! Their work is incredible!\n */\n\nimport { isPlatformBrowser, NgTemplateOutlet } from '@angular/common';\nimport {\n\tChangeDetectionStrategy,\n\tChangeDetectorRef,\n\tComponent,\n\tElementRef,\n\tinject,\n\ttype OnDestroy,\n\tPLATFORM_ID,\n\tRenderer2,\n\tsignal,\n\ttype TemplateRef,\n\tviewChild,\n\tViewEncapsulation,\n} from '@angular/core';\nimport { Subject } from 'rxjs';\n\n/**\n * Internal component that wraps the tooltip's content.\n * @docs-private\n */\n@Component({\n\tselector: 'brn-tooltip-content',\n\ttemplate: `\n\t\t<div\n\t\t\t(mouseenter)=\"_contentHovered.set(true)\"\n\t\t\t(mouseleave)=\"_contentHovered.set(false)\"\n\t\t\t[class]=\"_tooltipClasses()\"\n\t\t\t[style.visibility]=\"'hidden'\"\n\t\t\t#tooltip\n\t\t>\n\t\t\t@if (_isTypeOfString(content)) {\n\t\t\t\t{{ content }}\n\t\t\t} @else {\n\t\t\t\t<ng-container [ngTemplateOutlet]=\"content\" />\n\t\t\t}\n\t\t</div>\n\t`,\n\tencapsulation: ViewEncapsulation.None,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\thost: {\n\t\t// Forces the element to have a layout in IE and Edge. This fixes issues where the element\n\t\t// won't be rendered if the animations are disabled or there is no web animations polyfill.\n\t\t'[style.zoom]': 'isVisible() ? 1 : null',\n\t\t'(mouseleave)': '_handleMouseLeave($event)',\n\t\t'aria-hidden': 'true',\n\t},\n\timports: [NgTemplateOutlet],\n})\nexport class BrnTooltipContentComponent implements OnDestroy {\n\tprivate readonly _cdr = inject(ChangeDetectorRef);\n\tprivate readonly _isBrowser = isPlatformBrowser(inject(PLATFORM_ID));\n\tprivate readonly _renderer2 = inject(Renderer2);\n\n\tprotected readonly _contentHovered = signal(false);\n\n\tpublic readonly _tooltipClasses = signal('');\n\tpublic readonly side = signal('above');\n\t/** Message to display in the tooltip */\n\tpublic content: string | TemplateRef<unknown> | null = null;\n\n\t/** The timeout ID of any current timer set to show the tooltip */\n\tprivate _showTimeoutId: ReturnType<typeof setTimeout> | undefined;\n\t/** The timeout ID of any current timer set to hide the tooltip */\n\tprivate _hideTimeoutId: ReturnType<typeof setTimeout> | undefined;\n\t/** The timeout ID of any current timer set to animate the tooltip */\n\tprivate _animateTimeoutId: ReturnType<typeof setTimeout> | undefined;\n\n\t/** Element that caused the tooltip to open. */\n\tpublic _triggerElement?: HTMLElement;\n\n\t/** Amount of milliseconds to delay the closing sequence. */\n\tpublic _mouseLeaveHideDelay = 0;\n\t/** Amount of milliseconds of closing animation. */\n\tpublic _exitAnimationDuration = 0;\n\n\t/** Reference to the internal tooltip element. */\n\tpublic _tooltip = viewChild('tooltip', { read: ElementRef<HTMLElement> });\n\n\t/** Whether interactions on the page should close the tooltip */\n\tprivate _closeOnInteraction = false;\n\n\t/** Whether the tooltip is currently visible. */\n\tprivate _isVisible = false;\n\n\t/** Subject for notifying that the tooltip has been hidden from the view */\n\tprivate readonly _onHide: Subject<void> = new Subject();\n\tpublic readonly afterHidden = this._onHide.asObservable();\n\n\t/**\n\t * Shows the tooltip with originating from the provided origin\n\t * @param delay Amount of milliseconds to the delay showing the tooltip.\n\t */\n\tshow(delay: number): void {\n\t\t// Cancel the delayed hide if it is scheduled\n\t\tif (this._hideTimeoutId !== null) {\n\t\t\tclearTimeout(this._hideTimeoutId);\n\t\t}\n\t\tif (this._animateTimeoutId !== null) {\n\t\t\tclearTimeout(this._animateTimeoutId);\n\t\t}\n\t\tthis._showTimeoutId = setTimeout(() => {\n\t\t\tthis._toggleDataAttributes(true, this.side());\n\t\t\tthis._toggleVisibility(true);\n\t\t\tthis._showTimeoutId = undefined;\n\t\t}, delay);\n\t}\n\n\t/**\n\t * Begins to hide the tooltip after the provided delay in ms.\n\t * @param delay Amount of milliseconds to delay hiding the tooltip.\n\t * @param exitAnimationDuration Time before hiding to finish animation\n\t * */\n\thide(delay: number, exitAnimationDuration: number): void {\n\t\t// Cancel the delayed show if it is scheduled\n\t\tif (this._showTimeoutId !== null) {\n\t\t\tclearTimeout(this._showTimeoutId);\n\t\t}\n\t\t// start out animation at delay minus animation delay or immediately if possible\n\t\tthis._animateTimeoutId = setTimeout(\n\t\t\t() => {\n\t\t\t\tthis._animateTimeoutId = undefined;\n\t\t\t\tif (this._contentHovered()) return;\n\t\t\t\tthis._toggleDataAttributes(false, this.side());\n\t\t\t},\n\t\t\tMath.max(delay, 0),\n\t\t);\n\t\tthis._hideTimeoutId = setTimeout(() => {\n\t\t\tthis._hideTimeoutId = undefined;\n\t\t\tif (this._contentHovered()) return;\n\t\t\tthis._toggleVisibility(false);\n\t\t}, delay + exitAnimationDuration);\n\t}\n\n\t/** Whether the tooltip is being displayed. */\n\tisVisible(): boolean {\n\t\treturn this._isVisible;\n\t}\n\n\tngOnDestroy() {\n\t\tthis._cancelPendingAnimations();\n\t\tthis._onHide.complete();\n\t\tthis._triggerElement = undefined;\n\t}\n\n\t_isTypeOfString(content: unknown): content is string {\n\t\treturn typeof content === 'string';\n\t}\n\n\t/**\n\t * Interactions on the HTML body should close the tooltip immediately as defined in the\n\t * material design spec.\n\t * https://material.io/design/components/tooltips.html#behavior\n\t */\n\t_handleBodyInteraction(): void {\n\t\tif (this._closeOnInteraction) {\n\t\t\tthis.hide(0, 0);\n\t\t}\n\t}\n\n\t/**\n\t * Marks that the tooltip needs to be checked in the next change detection run.\n\t * Mainly used for rendering the initial text before positioning a tooltip, which\n\t * can be problematic in components with OnPush change detection.\n\t */\n\t_markForCheck(): void {\n\t\tthis._cdr.markForCheck();\n\t}\n\n\t_handleMouseLeave({ relatedTarget }: MouseEvent) {\n\t\tif (!relatedTarget || !this._triggerElement?.contains(relatedTarget as Node)) {\n\t\t\tif (this.isVisible()) {\n\t\t\t\tthis.hide(this._mouseLeaveHideDelay, this._exitAnimationDuration);\n\t\t\t} else {\n\t\t\t\tthis._finalize(false);\n\t\t\t}\n\t\t}\n\t\tthis._contentHovered.set(false);\n\t}\n\n\t/** Cancels any pending animation sequences. */\n\t_cancelPendingAnimations() {\n\t\tif (this._showTimeoutId !== null) {\n\t\t\tclearTimeout(this._showTimeoutId);\n\t\t}\n\n\t\tif (this._hideTimeoutId !== null) {\n\t\t\tclearTimeout(this._hideTimeoutId);\n\t\t}\n\n\t\tthis._showTimeoutId = this._hideTimeoutId = undefined;\n\t}\n\n\tprivate _finalize(toVisible: boolean) {\n\t\tif (toVisible) {\n\t\t\tthis._closeOnInteraction = true;\n\t\t} else if (!this.isVisible()) {\n\t\t\tthis._onHide.next();\n\t\t}\n\t}\n\n\t/** Toggles the visibility of the tooltip element. */\n\tprivate _toggleVisibility(isVisible: boolean) {\n\t\t// We set the classes directly here ourselves so that toggling the tooltip state\n\t\t// isn't bound by change detection. This allows us to hide it even if the\n\t\t// view ref has been detached from the CD tree.\n\t\tconst tooltip = this._tooltip()?.nativeElement;\n\t\tif (!tooltip || !this._isBrowser) return;\n\t\tthis._renderer2.setStyle(tooltip, 'visibility', isVisible ? 'visible' : 'hidden');\n\t\tif (isVisible) {\n\t\t\tthis._renderer2.removeStyle(tooltip, 'display');\n\t\t} else {\n\t\t\tthis._renderer2.setStyle(tooltip, 'display', 'none');\n\t\t}\n\t\tthis._isVisible = isVisible;\n\t}\n\n\tprivate _toggleDataAttributes(isVisible: boolean, side: string) {\n\t\t// We set the classes directly here ourselves so that toggling the tooltip state\n\t\t// isn't bound by change detection. This allows us to hide it even if the\n\t\t// view ref has been detached from the CD tree.\n\t\tconst tooltip = this._tooltip()?.nativeElement;\n\t\tif (!tooltip || !this._isBrowser) return;\n\t\tthis._renderer2.setAttribute(tooltip, 'data-side', side);\n\t\tthis._renderer2.setAttribute(tooltip, 'data-state', isVisible ? 'open' : 'closed');\n\t}\n}\n","import { Directive, type TemplateRef, signal } from '@angular/core';\n\n@Directive({\n\tselector: '[brnTooltip]',\n\tstandalone: true,\n})\nexport class BrnTooltipDirective {\n\tpublic readonly tooltipTemplate = signal<TemplateRef<unknown> | null>(null);\n}\n","import { Directive, TemplateRef, inject } from '@angular/core';\nimport { BrnTooltipDirective } from './brn-tooltip.directive';\n\n@Directive({\n\tselector: '[brnTooltipContent]',\n\tstandalone: true,\n})\nexport class BrnTooltipContentDirective {\n\tprivate readonly _brnTooltipDirective = inject(BrnTooltipDirective, { optional: true });\n\tprivate readonly _tpl = inject(TemplateRef);\n\n\tconstructor() {\n\t\tif (!this._brnTooltipDirective || !this._tpl) return;\n\t\tthis._brnTooltipDirective.tooltipTemplate.set(this._tpl);\n\t}\n}\n","import { inject, InjectionToken, ValueProvider } from '@angular/core';\nimport { TooltipPosition, TooltipTouchGestures } from './brn-tooltip-trigger.directive';\n\nexport interface BrnTooltipOptions {\n\t/** Default delay when the tooltip is shown. */\n\tshowDelay: number;\n\t/** Default delay when the tooltip is hidden. */\n\thideDelay: number;\n\t/** Default delay when hiding the tooltip on a touch device. */\n\ttouchendHideDelay: number;\n\t/** Default exit animation duration for the tooltip. */\n\texitAnimationDuration: number;\n\t/** Default touch gesture handling for tooltips. */\n\ttouchGestures?: TooltipTouchGestures;\n\t/** Default position for tooltips. */\n\tposition?: TooltipPosition;\n\t/**\n\t * Default value for whether tooltips should be positioned near the click or touch origin\n\t * instead of outside the element bounding box.\n\t */\n\tpositionAtOrigin?: boolean;\n\t/** Disables the ability for the user to interact with the tooltip element. */\n\tdisableTooltipInteractivity?: boolean;\n\t/** Default classes for the tooltip content. */\n\ttooltipContentClasses?: string;\n}\n\nexport const defaultOptions: BrnTooltipOptions = {\n\tshowDelay: 0,\n\thideDelay: 0,\n\texitAnimationDuration: 0,\n\ttouchendHideDelay: 1500,\n};\n\nconst BRN_TOOLTIP_DEFAULT_OPTIONS = new InjectionToken<BrnTooltipOptions>('brn-tooltip-default-options', {\n\tprovidedIn: 'root',\n\tfactory: () => defaultOptions,\n});\n\nexport function provideBrnTooltipDefaultOptions(options: Partial<BrnTooltipOptions>): ValueProvider {\n\treturn { provide: BRN_TOOLTIP_DEFAULT_OPTIONS, useValue: { ...defaultOptions, ...options } };\n}\n\nexport function injectBrnTooltipDefaultOptions(): BrnTooltipOptions {\n\treturn inject(BRN_TOOLTIP_DEFAULT_OPTIONS, { optional: true }) ?? defaultOptions;\n}\n","import { computed, type Signal, untracked } from '@angular/core';\n\n/**\n * Returns a signal that emits the previous value of the given signal.\n * The first time the signal is emitted, the previous value will be the same as the current value.\n *\n * @example\n * ```ts\n * const value = signal(0);\n * const previous = computedPrevious(value);\n *\n * effect(() => {\n *  console.log('Current value:', value());\n *  console.log('Previous value:', previous());\n * });\n *\n * Logs:\n * // Current value: 0\n * // Previous value: 0\n *\n * value.set(1);\n *\n * Logs:\n * // Current value: 1\n * // Previous value: 0\n *\n * value.set(2);\n *\n * Logs:\n * // Current value: 2\n * // Previous value: 1\n *```\n *\n * @param computation Signal to compute previous value for\n * @returns Signal that emits previous value of `s`\n */\nexport function computedPrevious<T>(computation: Signal<T>): Signal<T> {\n\tlet current = null as T;\n\tlet previous = untracked(() => computation()); // initial value is the current value\n\n\treturn computed(() => {\n\t\tcurrent = computation();\n\t\tconst result = previous;\n\t\tprevious = current;\n\t\treturn result;\n\t});\n}\n","/**\n * We are building on shoulders of giants here and adapt the implementation provided by the incredible Angular\n * team: https://github.com/angular/components/blob/main/src/material/tooltip/tooltip.ts\n * Check them out! Give them a try! Leave a star! Their work is incredible!\n */\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { AriaDescriber, FocusMonitor } from '@angular/cdk/a11y';\nimport { Directionality } from '@angular/cdk/bidi';\nimport { hasModifierKey } from '@angular/cdk/keycodes';\nimport {\n\ttype ConnectedPosition,\n\ttype ConnectionPositionPair,\n\ttype FlexibleConnectedPositionStrategy,\n\ttype HorizontalConnectionPos,\n\ttype OriginConnectionPosition,\n\tOverlay,\n\ttype OverlayConnectionPosition,\n\ttype OverlayRef,\n\tScrollDispatcher,\n\ttype ScrollStrategy,\n\ttype VerticalConnectionPos,\n} from '@angular/cdk/overlay';\nimport { normalizePassiveListenerOptions, Platform } from '@angular/cdk/platform';\nimport { ComponentPortal } from '@angular/cdk/portal';\nimport { DOCUMENT } from '@angular/common';\nimport {\n\ttype AfterViewInit,\n\tbooleanAttribute,\n\tcomputed,\n\tDirective,\n\teffect,\n\tElementRef,\n\tinject,\n\tInjectionToken,\n\tinput,\n\tisDevMode,\n\tNgZone,\n\tnumberAttribute,\n\ttype OnDestroy,\n\ttype Provider,\n\tsignal,\n\ttype TemplateRef,\n\tuntracked,\n\tViewContainerRef,\n} from '@angular/core';\nimport { brnDevMode } from '@spartan-ng/brain/core';\nimport { Subject } from 'rxjs';\nimport { take, takeUntil } from 'rxjs/operators';\nimport { BrnTooltipContentComponent } from './brn-tooltip-content.component';\nimport { BrnTooltipDirective } from './brn-tooltip.directive';\nimport { injectBrnTooltipDefaultOptions } from './brn-tooltip.token';\nimport { computedPrevious } from './computed-previous';\n\nexport type TooltipPosition = 'left' | 'right' | 'above' | 'below' | 'before' | 'after';\nexport type TooltipTouchGestures = 'auto' | 'on' | 'off';\n\n/** Time in ms to throttle repositioning after scroll events. */\nexport const SCROLL_THROTTLE_MS = 20;\n\nexport function getBrnTooltipInvalidPositionError(position: string) {\n\treturn Error(`Tooltip position \"${position}\" is invalid.`);\n}\n\n/** Injection token that determines the scroll handling while a tooltip is visible. */\nexport const BRN_TOOLTIP_SCROLL_STRATEGY = new InjectionToken<() => ScrollStrategy>('brn-tooltip-scroll-strategy');\nexport const BRN_TOOLTIP_SCROLL_STRATEGY_FACTORY_PROVIDER: Provider = {\n\tprovide: BRN_TOOLTIP_SCROLL_STRATEGY,\n\tdeps: [Overlay],\n\tuseFactory:\n\t\t(overlay: Overlay): (() => ScrollStrategy) =>\n\t\t() =>\n\t\t\toverlay.scrollStrategies.reposition({ scrollThrottle: SCROLL_THROTTLE_MS }),\n};\n\nconst PANEL_CLASS = 'tooltip-panel';\n\n/** Options used to bind passive event listeners. */\nconst passiveListenerOptions = normalizePassiveListenerOptions({ passive: true });\n\n/**\n * Time between the user putting the pointer on a tooltip\n * trigger and the long press event being fired.\n */\nconst LONGPRESS_DELAY = 500;\n\n// These constants were taken from MDC's `numbers` object.\nconst MIN_VIEWPORT_TOOLTIP_THRESHOLD = 8;\nconst UNBOUNDED_ANCHOR_GAP = 8;\n\n@Directive({\n\tselector: '[brnTooltipTrigger]',\n\tstandalone: true,\n\texportAs: 'brnTooltipTrigger',\n\tproviders: [BRN_TOOLTIP_SCROLL_STRATEGY_FACTORY_PROVIDER],\n\thost: {\n\t\tclass: 'brn-tooltip-trigger',\n\t\t'[class.brn-tooltip-disabled]': 'brnTooltipDisabled()',\n\t},\n})\nexport class BrnTooltipTriggerDirective implements OnDestroy, AfterViewInit {\n\tprivate readonly _tooltipDirective = inject(BrnTooltipDirective, { optional: true });\n\tprivate readonly _tooltipComponent = BrnTooltipContentComponent;\n\tprivate readonly _cssClassPrefix: string = 'brn';\n\tprivate readonly _destroyed = new Subject<void>();\n\tprivate readonly _passiveListeners: (readonly [string, EventListenerOrEventListenerObject])[] = [];\n\tprivate readonly _defaultOptions = injectBrnTooltipDefaultOptions();\n\n\tprivate readonly _overlay = inject(Overlay);\n\tprivate readonly _elementRef = inject(ElementRef<HTMLElement>);\n\tprivate readonly _scrollDispatcher = inject(ScrollDispatcher);\n\tprivate readonly _viewContainerRef = inject(ViewContainerRef);\n\tprivate readonly _ngZone = inject(NgZone);\n\tprivate readonly _platform = inject(Platform);\n\tprivate readonly _ariaDescriber = inject(AriaDescriber);\n\tprivate readonly _focusMonitor = inject(FocusMonitor);\n\tprivate readonly _dir = inject(Directionality);\n\tprivate readonly _scrollStrategy = inject(BRN_TOOLTIP_SCROLL_STRATEGY);\n\tprivate readonly _document = inject(DOCUMENT);\n\n\tprivate _portal?: ComponentPortal<BrnTooltipContentComponent>;\n\tprivate _viewInitialized = false;\n\tprivate _pointerExitEventsInitialized = false;\n\tprivate readonly _viewportMargin = 8;\n\tprivate _currentPosition?: TooltipPosition;\n\tprivate _touchstartTimeout?: ReturnType<typeof setTimeout>;\n\n\tprivate _overlayRef: OverlayRef | null = null;\n\tprivate _tooltipInstance: BrnTooltipContentComponent | null = null;\n\n\t/** Allows the user to define the position of the tooltip relative to the parent element */\n\n\tpublic readonly position = input<TooltipPosition>(this._defaultOptions?.position ?? 'above');\n\n\t/**\n\t * Whether tooltip should be relative to the click or touch origin\n\t * instead of outside the element bounding box.\n\t */\n\n\tpublic readonly positionAtOrigin = input(this._defaultOptions?.positionAtOrigin ?? false, {\n\t\ttransform: booleanAttribute,\n\t});\n\n\t/** Disables the display of the tooltip. */\n\n\tpublic readonly brnTooltipDisabled = input(false, { transform: booleanAttribute });\n\n\t/** The default delay in ms before showing the tooltip after show is called */\n\n\tpublic readonly showDelay = input(this._defaultOptions?.showDelay ?? 0, { transform: numberAttribute });\n\n\t/** The default delay in ms before hiding the tooltip after hide is called */\n\n\tpublic readonly hideDelay = input(this._defaultOptions?.hideDelay ?? 0, { transform: numberAttribute });\n\n\t/** The default duration in ms that exit animation takes before hiding */\n\n\tpublic readonly exitAnimationDuration = input(this._defaultOptions?.exitAnimationDuration ?? 0, {\n\t\ttransform: numberAttribute,\n\t});\n\n\t/** The default delay in ms before hiding the tooltip after hide is called */\n\n\tpublic readonly _tooltipContentClasses = input<string>(this._defaultOptions?.tooltipContentClasses ?? '', {\n\t\talias: 'tooltipContentClasses',\n\t});\n\tpublic readonly tooltipContentClasses = computed(() => signal(this._tooltipContentClasses()));\n\n\t/**\n\t * How touch gestures should be handled by the tooltip. On touch devices the tooltip directive\n\t * uses a long press gesture to show and hide, however it can conflict with the native browser\n\t * gestures. To work around the conflict, Angular Material disables native gestures on the\n\t * trigger, but that might not be desirable on particular elements (e.g. inputs and draggable\n\t * elements). The different values for this option configure the touch event handling as follows:\n\t * - `auto` - Enables touch gestures for all elements, but tries to avoid conflicts with native\n\t *   browser gestures on particular elements. In particular, it allows text selection on inputs\n\t *   and textareas, and preserves the native browser dragging on elements marked as `draggable`.\n\t * - `on` - Enables touch gestures for all elements and disables native\n\t *   browser gestures with no exceptions.\n\t * - `off` - Disables touch gestures. Note that this will prevent the tooltip from\n\t *   showing on touch devices.\n\t */\n\n\tpublic readonly touchGestures = input<TooltipTouchGestures>(this._defaultOptions?.touchGestures ?? 'auto');\n\n\t/** The message to be used to describe the aria in the tooltip */\n\n\tpublic readonly _ariaDescribedBy = input('', { alias: 'aria-describedby' });\n\tpublic readonly ariaDescribedBy = computed(() => signal(this._ariaDescribedBy()));\n\tpublic readonly ariaDescribedByPrevious = computedPrevious(this.ariaDescribedBy);\n\n\t/** The content to be displayed in the tooltip */\n\n\tpublic readonly brnTooltipTrigger = input<string | TemplateRef<unknown> | null>(null);\n\tpublic readonly brnTooltipTriggerState = computed(() => {\n\t\tif (this._tooltipDirective) {\n\t\t\treturn this._tooltipDirective.tooltipTemplate();\n\t\t}\n\t\treturn this.brnTooltipTrigger();\n\t});\n\n\tconstructor() {\n\t\tthis._dir.change.pipe(takeUntil(this._destroyed)).subscribe(() => {\n\t\t\tif (this._overlayRef) {\n\t\t\t\tthis._updatePosition(this._overlayRef);\n\t\t\t}\n\t\t});\n\n\t\tthis._viewportMargin = MIN_VIEWPORT_TOOLTIP_THRESHOLD;\n\n\t\tthis._initBrnTooltipTriggerEffect();\n\t\tthis._initAriaDescribedByPreviousEffect();\n\t\tthis._initTooltipContentClassesEffect();\n\t\tthis._initPositionEffect();\n\t\tthis._initPositionAtOriginEffect();\n\t\tthis._initBrnTooltipDisabledEffect();\n\t\tthis._initExitAnimationDurationEffect();\n\t\tthis._initHideDelayEffect();\n\t}\n\tsetTooltipContentClasses(tooltipContentClasses: string) {\n\t\tthis.tooltipContentClasses().set(tooltipContentClasses);\n\t}\n\tsetAriaDescribedBy(ariaDescribedBy: string) {\n\t\tthis.ariaDescribedBy().set(ariaDescribedBy);\n\t}\n\n\tprivate _initPositionEffect(): void {\n\t\teffect(() => {\n\t\t\tif (this._overlayRef) {\n\t\t\t\tthis._updatePosition(this._overlayRef);\n\t\t\t\tthis._tooltipInstance?.show(0);\n\t\t\t\tthis._overlayRef.updatePosition();\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate _initBrnTooltipDisabledEffect(): void {\n\t\teffect(() => {\n\t\t\tif (this.brnTooltipDisabled()) {\n\t\t\t\tthis.hide(0);\n\t\t\t} else {\n\t\t\t\tthis._setupPointerEnterEventsIfNeeded();\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate _initPositionAtOriginEffect(): void {\n\t\teffect(() => {\n\t\t\t// Needed that the effect got triggered\n\t\t\t// eslint-disable-next-line @typescript-eslint/naming-convention\n\t\t\tconst _ = this.positionAtOrigin();\n\t\t\tthis._detach();\n\t\t\tthis._overlayRef = null;\n\t\t});\n\t}\n\n\tprivate _initTooltipContentClassesEffect(): void {\n\t\teffect(() => {\n\t\t\tif (this._tooltipInstance) {\n\t\t\t\tthis._tooltipInstance._tooltipClasses.set(this.tooltipContentClasses()() ?? '');\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate _initAriaDescribedByPreviousEffect(): void {\n\t\teffect(() => {\n\t\t\tconst ariaDescribedBy = this.ariaDescribedBy()();\n\t\t\tthis._ariaDescriber.removeDescription(\n\t\t\t\tthis._elementRef.nativeElement,\n\t\t\t\tuntracked(() => this.ariaDescribedByPrevious()()),\n\t\t\t\t'tooltip',\n\t\t\t);\n\n\t\t\tif (ariaDescribedBy && !this._isTooltipVisible()) {\n\t\t\t\tthis._ngZone.runOutsideAngular(() => {\n\t\t\t\t\t// The `AriaDescriber` has some functionality that avoids adding a description if it's the\n\t\t\t\t\t// same as the `aria-label` of an element, however we can't know whether the tooltip trigger\n\t\t\t\t\t// has a data-bound `aria-label` or when it'll be set for the first time. We can avoid the\n\t\t\t\t\t// issue by deferring the description by a tick so Angular has time to set the `aria-label`.\n\t\t\t\t\tPromise.resolve().then(() => {\n\t\t\t\t\t\tthis._ariaDescriber.describe(this._elementRef.nativeElement, ariaDescribedBy, 'tooltip');\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate _initBrnTooltipTriggerEffect(): void {\n\t\teffect(() => {\n\t\t\tconst brnTooltipTriggerState = this.brnTooltipTriggerState();\n\t\t\tconst isTooltipVisible = this._isTooltipVisible();\n\t\t\tuntracked(() => {\n\t\t\t\tif (!brnTooltipTriggerState && isTooltipVisible) {\n\t\t\t\t\tthis.hide(0);\n\t\t\t\t} else {\n\t\t\t\t\tthis._setupPointerEnterEventsIfNeeded();\n\t\t\t\t\tthis._updateTooltipContent();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tprivate _initExitAnimationDurationEffect(): void {\n\t\teffect(() => {\n\t\t\tif (this._tooltipInstance) {\n\t\t\t\tthis._tooltipInstance._exitAnimationDuration = this.exitAnimationDuration();\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate _initHideDelayEffect(): void {\n\t\teffect(() => {\n\t\t\tif (this._tooltipInstance) {\n\t\t\t\tthis._tooltipInstance._mouseLeaveHideDelay = this.hideDelay();\n\t\t\t}\n\t\t});\n\t}\n\n\tngAfterViewInit(): void {\n\t\t// This needs to happen after view init so the initial values for all inputs have been set.\n\t\tthis._viewInitialized = true;\n\t\tthis._setupPointerEnterEventsIfNeeded();\n\n\t\tthis._focusMonitor\n\t\t\t.monitor(this._elementRef)\n\t\t\t.pipe(takeUntil(this._destroyed))\n\t\t\t.subscribe((origin) => {\n\t\t\t\t// Note that the focus monitor runs outside the Angular zone.\n\t\t\t\tif (!origin) {\n\t\t\t\t\tthis._ngZone.run(() => this.hide(0));\n\t\t\t\t} else if (origin === 'keyboard') {\n\t\t\t\t\tthis._ngZone.run(() => this.show());\n\t\t\t\t}\n\t\t\t});\n\n\t\tif (brnDevMode && !this.ariaDescribedBy()) {\n\t\t\tconsole.warn('BrnTooltip: \"aria-describedby\" attribute is required for accessibility');\n\t\t}\n\t}\n\n\t/**\n\t * Dispose the tooltip when destroyed.\n\t */\n\tngOnDestroy(): void {\n\t\tconst nativeElement = this._elementRef.nativeElement;\n\n\t\tclearTimeout(this._touchstartTimeout);\n\n\t\tif (this._overlayRef) {\n\t\t\tthis._overlayRef.dispose();\n\t\t\tthis._tooltipInstance = null;\n\t\t}\n\n\t\t// Clean up the event listeners set in the constructor\n\t\tthis._passiveListeners.forEach(([event, listener]) =>\n\t\t\tnativeElement.removeEventListener(event, listener, passiveListenerOptions),\n\t\t);\n\t\tthis._passiveListeners.length = 0;\n\n\t\tthis._destroyed.next();\n\t\tthis._destroyed.complete();\n\n\t\tthis._ariaDescriber.removeDescription(nativeElement, this.ariaDescribedBy()(), 'tooltip');\n\t\tthis._focusMonitor.stopMonitoring(nativeElement);\n\t}\n\n\t/** Shows the tooltip after the delay in ms, defaults to tooltip-delay-show or 0ms if no input */\n\tshow(delay: number = this.showDelay(), origin?: { x: number; y: number }): void {\n\t\tif (this.brnTooltipDisabled() || this._isTooltipVisible()) {\n\t\t\tthis._tooltipInstance?._cancelPendingAnimations();\n\t\t\treturn;\n\t\t}\n\n\t\tconst overlayRef = this._createOverlay(origin);\n\t\tthis._detach();\n\t\tthis._portal = this._portal || new ComponentPortal(this._tooltipComponent, this._viewContainerRef);\n\t\tconst instance = (this._tooltipInstance = overlayRef.attach(this._portal).instance);\n\t\tinstance._triggerElement = this._elementRef.nativeElement;\n\t\tinstance._mouseLeaveHideDelay = this.hideDelay();\n\t\tinstance._tooltipClasses.set(this.tooltipContentClasses()());\n\t\tinstance._exitAnimationDuration = this.exitAnimationDuration();\n\t\tinstance.side.set(this._currentPosition ?? 'above');\n\t\tinstance.afterHidden.pipe(takeUntil(this._destroyed)).subscribe(() => this._detach());\n\t\tthis._updateTooltipContent();\n\t\tinstance.show(delay);\n\t}\n\n\t/** Hides the tooltip after the delay in ms, defaults to tooltip-delay-hide or 0ms if no input */\n\thide(delay: number = this.hideDelay(), exitAnimationDuration: number = this.exitAnimationDuration()): void {\n\t\tconst instance = this._tooltipInstance;\n\t\tif (instance) {\n\t\t\tif (instance.isVisible()) {\n\t\t\t\tinstance.hide(delay, exitAnimationDuration);\n\t\t\t} else {\n\t\t\t\tinstance._cancelPendingAnimations();\n\t\t\t\tthis._detach();\n\t\t\t}\n\t\t}\n\t}\n\n\ttoggle(origin?: { x: number; y: number }): void {\n\t\tthis._isTooltipVisible() ? this.hide() : this.show(undefined, origin);\n\t}\n\n\t_isTooltipVisible(): boolean {\n\t\treturn !!this._tooltipInstance && this._tooltipInstance.isVisible();\n\t}\n\n\tprivate _createOverlay(origin?: { x: number; y: number }): OverlayRef {\n\t\tif (this._overlayRef) {\n\t\t\tconst existingStrategy = this._overlayRef.getConfig().positionStrategy as FlexibleConnectedPositionStrategy;\n\n\t\t\tif ((!this.positionAtOrigin() || !origin) && existingStrategy._origin instanceof ElementRef) {\n\t\t\t\treturn this._overlayRef;\n\t\t\t}\n\n\t\t\tthis._detach();\n\t\t}\n\n\t\tconst scrollableAncestors = this._scrollDispatcher.getAncestorScrollContainers(this._elementRef);\n\n\t\t// Create connected position strategy that listens for scroll events to reposition.\n\t\tconst strategy = this._overlay\n\t\t\t.position()\n\t\t\t.flexibleConnectedTo(this.positionAtOrigin() ? origin || this._elementRef : this._elementRef)\n\t\t\t.withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`)\n\t\t\t.withFlexibleDimensions(false)\n\t\t\t.withViewportMargin(this._viewportMargin)\n\t\t\t.withScrollableContainers(scrollableAncestors);\n\n\t\tstrategy.positionChanges.pipe(takeUntil(this._destroyed)).subscribe((change) => {\n\t\t\tthis._updateCurrentPositionClass(change.connectionPair);\n\n\t\t\tif (this._tooltipInstance) {\n\t\t\t\tif (change.scrollableViewProperties.isOverlayClipped && this._tooltipInstance.isVisible()) {\n\t\t\t\t\t// After position changes occur and the overlay is clipped by\n\t\t\t\t\t// a parent scrollable then close the tooltip.\n\t\t\t\t\tthis._ngZone.run(() => this.hide(0));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis._overlayRef = this._overlay.create({\n\t\t\tdirection: this._dir,\n\t\t\tpositionStrategy: strategy,\n\t\t\tpanelClass: `${this._cssClassPrefix}-${PANEL_CLASS}`,\n\t\t\tscrollStrategy: this._scrollStrategy(),\n\t\t});\n\n\t\tthis._updatePosition(this._overlayRef);\n\n\t\tthis._overlayRef\n\t\t\t.detachments()\n\t\t\t.pipe(takeUntil(this._destroyed))\n\t\t\t.subscribe(() => this._detach());\n\n\t\tthis._overlayRef\n\t\t\t.outsidePointerEvents()\n\t\t\t.pipe(takeUntil(this._destroyed))\n\t\t\t.subscribe(() => this._tooltipInstance?._handleBodyInteraction());\n\n\t\tthis._overlayRef\n\t\t\t.keydownEvents()\n\t\t\t.pipe(takeUntil(this._destroyed))\n\t\t\t.subscribe((event) => {\n\t\t\t\tif (this._isTooltipVisible() && event.key === 'Escape' && !hasModifierKey(event)) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tthis._ngZone.run(() => this.hide(0));\n\t\t\t\t}\n\t\t\t});\n\n\t\tif (this._defaultOptions?.disableTooltipInteractivity) {\n\t\t\tthis._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`);\n\t\t}\n\n\t\treturn this._overlayRef;\n\t}\n\n\tprivate _detach(): void {\n\t\tif (this._overlayRef?.hasAttached()) {\n\t\t\tthis._overlayRef.detach();\n\t\t}\n\n\t\tthis._tooltipInstance = null;\n\t}\n\n\tprivate _updatePosition(overlayRef: OverlayRef) {\n\t\tconst position = overlayRef.getConfig().positionStrategy as FlexibleConnectedPositionStrategy;\n\t\tconst origin = this._getOrigin();\n\t\tconst overlay = this._getOverlayPosition();\n\n\t\tposition.withPositions([\n\t\t\tthis._addOffset({ ...origin.main, ...overlay.main }),\n\t\t\tthis._addOffset({ ...origin.fallback, ...overlay.fallback }),\n\t\t]);\n\t}\n\n\t/** Adds the configured offset to a position. Used as a hook for child classes. */\n\tprotected _addOffset(position: ConnectedPosition): ConnectedPosition {\n\t\tconst offset = UNBOUNDED_ANCHOR_GAP;\n\t\tconst isLtr = !this._dir || this._dir.value === 'ltr';\n\n\t\tif (position.originY === 'top') {\n\t\t\tposition.offsetY = -offset;\n\t\t} else if (position.originY === 'bottom') {\n\t\t\tposition.offsetY = offset;\n\t\t} else if (position.originX === 'start') {\n\t\t\tposition.offsetX = isLtr ? -offset : offset;\n\t\t} else if (position.originX === 'end') {\n\t\t\tposition.offsetX = isLtr ? offset : -offset;\n\t\t}\n\n\t\treturn position;\n\t}\n\n\t/**\n\t * Returns the origin position and a fallback position based on the user's position preference.\n\t * The fallback position is the inverse of the origin (e.g. `'below' -> 'above'`).\n\t */\n\t_getOrigin(): { main: OriginConnectionPosition; fallback: OriginConnectionPosition } {\n\t\tconst isLtr = !this._dir || this._dir.value === 'ltr';\n\t\tconst position = this.position();\n\t\tlet originPosition: OriginConnectionPosition;\n\n\t\tif (position === 'above' || position === 'below') {\n\t\t\toriginPosition = { originX: 'center', originY: position === 'above' ? 'top' : 'bottom' };\n\t\t} else if (position === 'before' || (position === 'left' && isLtr) || (position === 'right' && !isLtr)) {\n\t\t\toriginPosition = { originX: 'start', originY: 'center' };\n\t\t} else if (position === 'after' || (position === 'right' && isLtr) || (position === 'left' && !isLtr)) {\n\t\t\toriginPosition = { originX: 'end', originY: 'center' };\n\t\t} else if (typeof isDevMode() === 'undefined' || isDevMode()) {\n\t\t\tthrow getBrnTooltipInvalidPositionError(position);\n\t\t}\n\n\t\tconst { x, y } = this._invertPosition(originPosition!.originX, originPosition!.originY);\n\n\t\treturn {\n\t\t\tmain: originPosition!,\n\t\t\tfallback: { originX: x, originY: y },\n\t\t};\n\t}\n\n\t/** Returns the overlay position and a fallback position based on the user's preference */\n\t_getOverlayPosition(): { main: OverlayConnectionPosition; fallback: OverlayConnectionPosition } {\n\t\tconst isLtr = !this._dir || this._dir.value === 'ltr';\n\t\tconst position = this.position();\n\t\tlet overlayPosition: OverlayConnectionPosition;\n\n\t\tif (position === 'above') {\n\t\t\toverlayPosition = { overlayX: 'center', overlayY: 'bottom' };\n\t\t} else if (position === 'below') {\n\t\t\toverlayPosition = { overlayX: 'center', overlayY: 'top' };\n\t\t} else if (position === 'before' || (position === 'left' && isLtr) || (position === 'right' && !isLtr)) {\n\t\t\toverlayPosition = { overlayX: 'end', overlayY: 'center' };\n\t\t} else if (position === 'after' || (position === 'right' && isLtr) || (position === 'left' && !isLtr)) {\n\t\t\toverlayPosition = { overlayX: 'start', overlayY: 'center' };\n\t\t} else if (typeof isDevMode() === 'undefined' || isDevMode()) {\n\t\t\tthrow getBrnTooltipInvalidPositionError(position);\n\t\t}\n\n\t\tconst { x, y } = this._invertPosition(overlayPosition!.overlayX, overlayPosition!.overlayY);\n\n\t\treturn {\n\t\t\tmain: overlayPosition!,\n\t\t\tfallback: { overlayX: x, overlayY: y },\n\t\t};\n\t}\n\n\t/** Updates the tooltip message and repositions the overlay according to the new message length */\n\tprivate _updateTooltipContent(): void {\n\t\t// Must wait for the template to be painted to the tooltip so that the overlay can properly\n\t\t// calculate the correct positioning based on the size of the tek-pate.\n\t\tif (this._tooltipInstance) {\n\t\t\tthis._tooltipInstance.content = this.brnTooltipTriggerState();\n\t\t\tthis._tooltipInstance._markForCheck();\n\n\t\t\tthis._ngZone.onMicrotaskEmpty.pipe(take(1), takeUntil(this._destroyed)).subscribe(() => {\n\t\t\t\tif (this._tooltipInstance) {\n\t\t\t\t\tthis._overlayRef?.updatePosition();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t/** Inverts an overlay position. */\n\tprivate _invertPosition(x: HorizontalConnectionPos, y: VerticalConnectionPos) {\n\t\tif (this.position() === 'above' || this.position() === 'below') {\n\t\t\tif (y === 'top') {\n\t\t\t\ty = 'bottom';\n\t\t\t} else if (y === 'bottom') {\n\t\t\t\ty = 'top';\n\t\t\t}\n\t\t} else {\n\t\t\tif (x === 'end') {\n\t\t\t\tx = 'start';\n\t\t\t} else if (x === 'start') {\n\t\t\t\tx = 'end';\n\t\t\t}\n\t\t}\n\n\t\treturn { x, y };\n\t}\n\n\t/** Updates the class on the overlay panel based on the current position of the tooltip. */\n\tprivate _updateCurrentPositionClass(connectionPair: ConnectionPositionPair): void {\n\t\tconst { overlayY, originX, originY } = connectionPair;\n\t\tlet newPosition: TooltipPosition;\n\n\t\t// If the overlay is in the middle along the Y axis,\n\t\t// it means that it's either before or after.\n\t\tif (overlayY === 'center') {\n\t\t\t// Note that since this information is used for styling, we want to\n\t\t\t// resolve `start` and `end` to their real values, otherwise consumers\n\t\t\t// would have to remember to do it themselves on each consumption.\n\t\t\tif (this._dir && this._dir.value === 'rtl') {\n\t\t\t\tnewPosition = originX === 'end' ? 'left' : 'right';\n\t\t\t} else {\n\t\t\t\tnewPosition = originX === 'start' ? 'left' : 'right';\n\t\t\t}\n\t\t} else {\n\t\t\tnewPosition = overlayY === 'bottom' && originY === 'top' ? 'above' : 'below';\n\t\t}\n\n\t\tif (newPosition !== this._currentPosition) {\n\t\t\tthis._tooltipInstance?.side.set(newPosition);\n\t\t\tthis._currentPosition = newPosition;\n\t\t}\n\t}\n\n\t/** Binds the pointer events to the tooltip trigger. */\n\tprivate _setupPointerEnterEventsIfNeeded(): void {\n\t\t// Optimization: Defer hooking up events if there's no content or the tooltip is disabled.\n\t\tif (\n\t\t\tthis.brnTooltipDisabled() ||\n\t\t\t!this.brnTooltipTriggerState() ||\n\t\t\t!this._viewInitialized ||\n\t\t\tthis._passiveListeners.length\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\t// The mouse events shouldn't be bound on mobile devices, because they can prevent the\n\t\t// first tap from firing its click event or can cause the tooltip to open for clicks.\n\t\tif (this._platformSupportsMouseEvents()) {\n\t\t\tthis._passiveListeners.push([\n\t\t\t\t'mouseenter',\n\t\t\t\t(event) => {\n\t\t\t\t\tthis._setupPointerExitEventsIfNeeded();\n\t\t\t\t\tlet point = undefined;\n\t\t\t\t\tif ((event as MouseEvent).x !== undefined && (event as MouseEvent).y !== undefined) {\n\t\t\t\t\t\tpoint = event as MouseEvent;\n\t\t\t\t\t}\n\t\t\t\t\tthis.show(undefined, point);\n\t\t\t\t},\n\t\t\t]);\n\t\t} else if (this.touchGestures() !== 'off') {\n\t\t\tthis._disableNativeGesturesIfNecessary();\n\n\t\t\tthis._passiveListeners.push([\n\t\t\t\t'touchstart',\n\t\t\t\t(event) => {\n\t\t\t\t\tconst touch = (event as TouchEvent).targetTouches?.[0];\n\t\t\t\t\tconst origin = touch ? { x: touch.clientX, y: touch.clientY } : undefined;\n\t\t\t\t\t// Note that it's important that we don't `preventDefault` here,\n\t\t\t\t\t// because it can prevent click events from firing on the element.\n\t\t\t\t\tthis._setupPointerExitEventsIfNeeded();\n\t\t\t\t\tclearTimeout(this._touchstartTimeout);\n\t\t\t\t\tthis._touchstartTimeout = setTimeout(() => this.show(undefined, origin), LONGPRESS_DELAY);\n\t\t\t\t},\n\t\t\t]);\n\t\t}\n\n\t\tthis._addListeners(this._passiveListeners);\n\t}\n\n\tprivate _setupPointerExitEventsIfNeeded(): void {\n\t\tif (this._pointerExitEventsInitialized) {\n\t\t\treturn;\n\t\t}\n\t\tthis._pointerExitEventsInitialized = true;\n\n\t\tconst exitListeners: (readonly [string, EventListenerOrEventListenerObject])[] = [];\n\t\tif (this._platformSupportsMouseEvents()) {\n\t\t\texitListeners.push(\n\t\t\t\t[\n\t\t\t\t\t'mouseleave',\n\t\t\t\t\t(event) => {\n\t\t\t\t\t\tconst newTarget = (event as MouseEvent).relatedTarget as Node | null;\n\t\t\t\t\t\tif (!newTarget || !this._overlayRef?.overlayElement.contains(newTarget)) {\n\t\t\t\t\t\t\tthis.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\t['wheel', (event) => this._wheelListener(event as WheelEvent)],\n\t\t\t);\n\t\t} else if (this.touchGestures() !== 'off') {\n\t\t\tthis._disableNativeGesturesIfNecessary();\n\t\t\tconst touchendListener = () => {\n\t\t\t\tclearTimeout(this._touchstartTimeout);\n\t\t\t\tthis.hide(this._defaultOptions?.touchendHideDelay);\n\t\t\t};\n\n\t\t\texitListeners.push(['touchend', touchendListener], ['touchcancel', touchendListener]);\n\t\t}\n\n\t\tthis._addListeners(exitListeners);\n\t\tthis._passiveListeners.push(...exitListeners);\n\t}\n\n\tprivate _addListeners(listeners: (readonly [string, EventListenerOrEventListenerObject])[]) {\n\t\tlisteners.forEach(([event, listener]) => {\n\t\t\tthis._elementRef.nativeElement.addEventListener(event, listener, passiveListenerOptions);\n\t\t});\n\t}\n\n\tprivate _platformSupportsMouseEvents(): boolean {\n\t\treturn !this._platform.IOS && !this._platform.ANDROID;\n\t}\n\n\t/** Listener for the `wheel` event on the element. */\n\tprivate _wheelListener(event: WheelEvent) {\n\t\tif (this._isTooltipVisible()) {\n\t\t\tconst elementUnderPointer = this._document.elementFromPoint(event.clientX, event.clientY);\n\t\t\tconst element = this._elementRef.nativeElement;\n\n\t\t\t// On non-touch devices we depend on the `mouseleave` event to close the tooltip, but it\n\t\t\t// won't fire if the user scrolls away using the wheel without moving their cursor. We\n\t\t\t// work around it by finding the element under the user's cursor and closing the tooltip\n\t\t\t// if it's not the trigger.\n\t\t\tif (elementUnderPointer !== element && !element.contains(elementUnderPointer)) {\n\t\t\t\tthis.hide();\n\t\t\t}\n\t\t}\n\t}\n\n\t/** Disables the native browser gestures, based on how the tooltip has been configured. */\n\tprivate _disableNativeGesturesIfNecessary(): void {\n\t\tconst gestures = this.touchGestures();\n\n\t\tif (gestures !== 'off') {\n\t\t\tconst element = this._elementRef.nativeElement;\n\t\t\tconst style = element.style;\n\n\t\t\t// If gestures are set to `auto`, we don't disable text selection on inputs and\n\t\t\t// textareas, because it prevents the user from typing into them on iOS Safari.\n\t\t\tif (gestures === 'on' || (element.nodeName !== 'INPUT' && element.nodeName !== 'TEXTAREA')) {\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\t\t\tstyle.userSelect = (style as any).msUserSelect = style.webkitUserSelect = (style as any).MozUserSelect = 'none';\n\t\t\t}\n\n\t\t\t// If we have `auto` gestures and the element uses native HTML dragging,\n\t\t\t// we don't set `-webkit-user-drag` because it prevents the native behavior.\n\t\t\tif (gestures === 'on' || !element.draggable) {\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\t\t\t(style as any).webkitUserDrag = 'none';\n\t\t\t}\n\n\t\t\tstyle.touchAction = 'none';\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\t\t(style as any).webkitTapHighlightColor = 'transparent';\n\t\t}\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { BrnTooltipContentComponent } from './lib/brn-tooltip-content.component';\nimport { BrnTooltipContentDirective } from './lib/brn-tooltip-content.directive';\nimport { BrnTooltipTriggerDirective } from './lib/brn-tooltip-trigger.directive';\nimport { BrnTooltipDirective } from './lib/brn-tooltip.directive';\n\nexport * from './lib/brn-tooltip-content.component';\nexport * from './lib/brn-tooltip-content.directive';\nexport * from './lib/brn-tooltip-trigger.directive';\nexport * from './lib/brn-tooltip.directive';\nexport * from './lib/brn-tooltip.token';\n\nexport const BrnTooltipImports = [\n\tBrnTooltipDirective,\n\tBrnTooltipContentDirective,\n\tBrnTooltipTriggerDirective,\n\tBrnTooltipContentComponent,\n] as const;\n\n@NgModule({\n\timports: [...BrnTooltipImports],\n\texports: [...BrnTooltipImports],\n})\nexport class BrnTooltipModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}