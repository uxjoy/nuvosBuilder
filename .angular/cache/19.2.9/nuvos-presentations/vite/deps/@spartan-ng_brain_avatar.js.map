{
  "version": 3,
  "sources": ["../../../../../../node_modules/@spartan-ng/brain/fesm2022/spartan-ng-brain-avatar.mjs"],
  "sourcesContent": ["import * as i0 from '@angular/core';\nimport { signal, computed, HostListener, Directive, contentChild, ViewEncapsulation, ChangeDetectionStrategy, Component, inject, ElementRef, input, booleanAttribute, Pipe, NgModule } from '@angular/core';\nconst _c0 = [[[\"\", \"brnAvatarImage\", \"\"]], [[\"\", \"brnAvatarFallback\", \"\"]]];\nconst _c1 = [\"[brnAvatarImage]\", \"[brnAvatarFallback]\"];\nfunction BrnAvatarComponent_Conditional_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵprojection(0);\n  }\n}\nfunction BrnAvatarComponent_Conditional_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵprojection(0, 1);\n  }\n}\nclass BrnAvatarImageDirective {\n  _loaded = signal(false);\n  onError() {\n    this._loaded.set(false);\n  }\n  onLoad() {\n    this._loaded.set(true);\n  }\n  canShow = computed(() => this._loaded());\n  /** @nocollapse */\n  static ɵfac = function BrnAvatarImageDirective_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || BrnAvatarImageDirective)();\n  };\n  /** @nocollapse */\n  static ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: BrnAvatarImageDirective,\n    selectors: [[\"img\", \"brnAvatarImage\", \"\"]],\n    hostBindings: function BrnAvatarImageDirective_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"error\", function BrnAvatarImageDirective_error_HostBindingHandler() {\n          return ctx.onError();\n        })(\"load\", function BrnAvatarImageDirective_load_HostBindingHandler() {\n          return ctx.onLoad();\n        });\n      }\n    },\n    exportAs: [\"avatarImage\"]\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(BrnAvatarImageDirective, [{\n    type: Directive,\n    args: [{\n      selector: 'img[brnAvatarImage]',\n      standalone: true,\n      exportAs: 'avatarImage'\n    }]\n  }], null, {\n    onError: [{\n      type: HostListener,\n      args: ['error']\n    }],\n    onLoad: [{\n      type: HostListener,\n      args: ['load']\n    }]\n  });\n})();\nclass BrnAvatarComponent {\n  image = contentChild(BrnAvatarImageDirective);\n  /** @nocollapse */\n  static ɵfac = function BrnAvatarComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || BrnAvatarComponent)();\n  };\n  /** @nocollapse */\n  static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: BrnAvatarComponent,\n    selectors: [[\"brn-avatar\"]],\n    contentQueries: function BrnAvatarComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        i0.ɵɵcontentQuerySignal(dirIndex, ctx.image, BrnAvatarImageDirective, 5);\n      }\n      if (rf & 2) {\n        i0.ɵɵqueryAdvance();\n      }\n    },\n    ngContentSelectors: _c1,\n    decls: 2,\n    vars: 1,\n    template: function BrnAvatarComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef(_c0);\n        i0.ɵɵtemplate(0, BrnAvatarComponent_Conditional_0_Template, 1, 0)(1, BrnAvatarComponent_Conditional_1_Template, 1, 0);\n      }\n      if (rf & 2) {\n        let tmp_0_0;\n        i0.ɵɵconditional(((tmp_0_0 = ctx.image()) == null ? null : tmp_0_0.canShow()) ? 0 : 1);\n      }\n    },\n    encapsulation: 2,\n    changeDetection: 0\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(BrnAvatarComponent, [{\n    type: Component,\n    args: [{\n      selector: 'brn-avatar',\n      standalone: true,\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      encapsulation: ViewEncapsulation.None,\n      template: `\n\t\t@if (image()?.canShow()) {\n\t\t\t<ng-content select=\"[brnAvatarImage]\" />\n\t\t} @else {\n\t\t\t<ng-content select=\"[brnAvatarFallback]\" />\n\t\t}\n\t`\n    }]\n  }], null, null);\n})();\nclass BrnAvatarFallbackDirective {\n  _element = inject(ElementRef).nativeElement;\n  userClass = input('', {\n    alias: 'class'\n  });\n  autoColor = input(false, {\n    transform: booleanAttribute\n  });\n  getTextContent() {\n    return this._element.textContent;\n  }\n  /** @nocollapse */\n  static ɵfac = function BrnAvatarFallbackDirective_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || BrnAvatarFallbackDirective)();\n  };\n  /** @nocollapse */\n  static ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: BrnAvatarFallbackDirective,\n    selectors: [[\"\", \"brnAvatarFallback\", \"\"]],\n    inputs: {\n      userClass: [1, \"class\", \"userClass\"],\n      autoColor: [1, \"autoColor\"]\n    },\n    exportAs: [\"avatarFallback\"]\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(BrnAvatarFallbackDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[brnAvatarFallback]',\n      standalone: true,\n      exportAs: 'avatarFallback'\n    }]\n  }], null, null);\n})();\nfunction hashString(str) {\n  let h;\n  for (let i = 0; i < str.length; i++) h = Math.imul(31, h || 0) + str.charCodeAt(i) | 0;\n  return h || 0;\n}\nfunction hashManyTimes(times, str) {\n  let h = hashString(str);\n  for (let i = 0; i < times; i++) h = hashString(String(h));\n  return h;\n}\nfunction hexColorFor(str) {\n  const hash = str.length <= 2 ? hashManyTimes(5, str) : hashString(str);\n  let color = '#';\n  for (let i = 0; i < 3; i += 1) {\n    const value = hash >> i * 8 & 0xff;\n    color += `00${value.toString(16)}`.slice(-2);\n  }\n  return color;\n}\nconst toInitial = (capitalize = true) => word => {\n  const initial = word.charAt(0);\n  return capitalize ? initial.toLocaleUpperCase() : initial;\n};\nconst firstAndLast = initials => `${initials[0]}${initials[initials.length - 1]}`;\nclass InitialsPipe {\n  transform(name, capitalize = true, firstAndLastOnly = true, delimiter = ' ') {\n    if (!name) return '';\n    const initials = name.trim().split(delimiter).filter(Boolean).map(toInitial(capitalize));\n    if (firstAndLastOnly && initials.length > 1) return firstAndLast(initials);\n    return initials.join('');\n  }\n  /** @nocollapse */\n  static ɵfac = function InitialsPipe_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || InitialsPipe)();\n  };\n  /** @nocollapse */\n  static ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n    name: \"initials\",\n    type: InitialsPipe,\n    pure: true\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(InitialsPipe, [{\n    type: Pipe,\n    args: [{\n      name: 'initials',\n      standalone: true\n    }]\n  }], null, null);\n})();\nconst isShortHand = hex => hex.length === 3;\nconst cleanup = hex => {\n  const noHash = hex.replace('#', '').trim().toLowerCase();\n  if (!isShortHand(noHash)) return noHash;\n  return noHash.split('').map(char => char + char).join('');\n};\nconst isBright = hex => Number.parseInt(cleanup(hex), 16) > 0xffffff / 1.25;\nconst BrnAvatarImports = [BrnAvatarComponent, BrnAvatarFallbackDirective, BrnAvatarImageDirective];\nclass BrnAvatarModule {\n  /** @nocollapse */static ɵfac = function BrnAvatarModule_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || BrnAvatarModule)();\n  };\n  /** @nocollapse */\n  static ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: BrnAvatarModule,\n    imports: [BrnAvatarComponent, BrnAvatarFallbackDirective, BrnAvatarImageDirective],\n    exports: [BrnAvatarComponent, BrnAvatarFallbackDirective, BrnAvatarImageDirective]\n  });\n  /** @nocollapse */\n  static ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(BrnAvatarModule, [{\n    type: NgModule,\n    args: [{\n      imports: [...BrnAvatarImports],\n      exports: [...BrnAvatarImports]\n    }]\n  }], null, null);\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { BrnAvatarComponent, BrnAvatarFallbackDirective, BrnAvatarImageDirective, BrnAvatarImports, BrnAvatarModule, InitialsPipe, hexColorFor, isBright };\n"],
  "mappings": "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",
  "names": []
}
